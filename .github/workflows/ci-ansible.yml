name: ci-ansible
on: [push, pull_request]
jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - name: Install Ansible and ansible-lint
        run: python3 -m pip install --user ansible ansible-lint
      - name: ansible-lint
        run: ~/.local/bin/ansible-lint infra/ansible
      - name: Ansible syntax check
        run: ~/.local/bin/ansible-playbook --syntax-check infra/ansible/playbooks/site.yml


